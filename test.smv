MODULE main
VAR
  request : boolean;
  state : {ready, busy};
ASSIGN
  init(state) := ready;     -- we start variable "state" as ready
  next(state) := case       -- next time, variable "state" one of these will happen
  -- reads top to bottom (lazy short circuit)
  
    state = busy & request = TRUE : ready;  -- if variable state is busy
                                             -- and variable request is true
                                            -- set varaible state to ready

    state = ready & request = TRUE : busy; -- if variable state is ready
                                            -- and variable request is true
                                            -- set varaible state to busy


    TRUE : {ready};                         --in all other cases set variable state to ready
                                            --need this otherwise
                                            -- file test.smv: line 16: case conditions are not exhaustive
  esac;

LTLSPEC G (request -> F state = busy)
